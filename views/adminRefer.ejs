<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="../Images/Logo.png" />
  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@400;500;600;700;800&display=swap"
    rel="stylesheet" />
  <!-- Stylesheet -->
  <link rel="stylesheet" href="../CSS/main.css" />
  <link rel="stylesheet" href="../CSS/toast.css" />

  <script async src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <!-- Custom JavaScript -->
  <script defer src="../JS/dashboard.js"></script>

</head>

<body class="bg-darkNavy">
  <%- include("partials/adminSidebar"); -%>
    <!DOCTYPE html>
    <html lang="en">

    <head>
      <meta charset="UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Dashboard</title>
      <!-- Favicon -->
      <link rel="icon" type="image/png" href="../Images/Logo.png" />
      <!-- Google Font -->
      <link rel="preconnect" href="https://fonts.googleapis.com" />
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
      <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@400;500;600;700;800&display=swap"
        rel="stylesheet" />
      <!-- Stylesheet -->
      <link rel="stylesheet" href="../../CSS/main.css" />
      <link rel="stylesheet" href="../../CSS/toast.css" />

      <script async src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
      <!-- Custom JavaScript -->
      <script defer src="../../JS/dashboard.js"></script>
    </head>

    <body class="bg-darkNavy">
      <%- include("partials/adminSidebar"); -%>
        <section>
          <div class="flex flex-col items-center justify-center">
            <div class="mt-20 text-center">
              <h1 class="text-2xl text-gold font-bold md:text-4xl">Referrals</h1>
              <h4 class="text-sm mt-2 text-gray-500 ml-14 md:text-base">
                A Summary On Your Referrals And Their Details.
              </h4>
            </div>

            <table class="mx-auto mt-12 mb-1 border-collapse w-3/4 text-sm bg-veryDarkWhite rounded-md">
              <thead class="">
                <tr class=" text-left h-16 border-b-2 border-cyan-500">
                  <th class="w-1/4 border border-slate-300 dark:border-slate-600 font-semibold p-4 text-left">
                    Username</th>
                  <th class="w-1/4 border border-slate-300 dark:border-slate-600 font-semibold p-4 text-left">
                    Account Balance</th>
                  <th class="w-1/4 border border-slate-300 dark:border-slate-600 font-semibold p-4 text-left">
                    Registraton Date</th>
                  <th class="w-1/4 border border-slate-300 dark:border-slate-600 font-semibold p-4 text-left">
                    Referred By</th>
                </tr>
              </thead>
              <tbody>
                <% referredUsers.forEach(user=> {%>
                  <tr class="border-b-1 h-10">
                    <td class="border p-4 capitalize">
                      <a href="/user/admin/profile/<%= user._id %>">
                        <%= user.username || user.name%>
                      </a>
                    </td>
                    <td class="border p-4">
                      $<%= user.balance %>
                    </td>
                    <td class="border p-4 capitalize">
                      <%= user.createdAt.toLocaleDateString() %>
                    </td>
                    <td class="border p-4 capitalize">
                      <a href="/user/admin/profile/<%= user.referredBy._id %>">
                        <%= user.referredBy.username || user.referredBy.name %>
                      </a>
                    </td>
                  </tr>
                  <% }) %>

              </tbody>
            </table>
          </div>
        </section>
        <%- include ("partials/script"); -%>
    </body>

    </html>

    <%- include ("partials/script"); -%>
</body>

</html>